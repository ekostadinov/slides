<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Selenium IDE, Builder and WebDriver API</title>

		<meta name="description" content="Presentation about Automation testing with JAVA">
		<meta name="author" content="Evgeni Kostadinov">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="../css/reveal.css">
		<link rel="stylesheet" href="../css/theme/progress.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../css/print/pdf.css' : '../css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Selenium IDE, Builder and WebDriver API</h1>
					<p>
						<img width="600" height="300" data-src="../images/10/10s1.png">
					</p>
				</section>

				<section style="text-align: left;">
					<h4 style="font-style:italic; text-decoration: underline;">TABLE OF CONTENTS</h4>
					<ul>
						<li>Location strategy</li>
						<li> 
							Selenium flavours
							<ul>
								<li><a href="http://www.seleniumhq.org/projects/ide/">IDE</a></li>
								<li><a href="http://seleniumbuilder.github.io/se-builder/">Builder</a></li>
								<li><a href="http://www.seleniumhq.org/projects/webdriver/">WebDriver</a></li>
							</ul>	
						</li>
						<li>CallWrappers</li>							
						<li>Selenium Grid </li>
					</ul>
					<img style="margin-top:-90%;margin-left:10%;" width="300" height="400" data-src="../images/10/10s2.jpg">						
				</section>
				
				<section>
					<section>
						<h2>Location strategy</h2>
						<img width="400" height="500" src="../images/10/10s3.png">
					</section>
					<section>	
						<ul>
							<li>The majority of today’s software applications are web-based applications. Being run in an Internet browser.</li>
							<li>XPath <a href="https://chrome.google.com/webstore/detail/xpath-helper/hgimnogjllphhhkhlmebbmlgjoejdpjl?hl=en">helper</a></li>
							<li><a href="http://getfirebug.com/">Firebug</a> and <a href="https://addons.mozilla.org/en-US/firefox/addon/firepath/">FirePath</a> are like <b>very long</b> Google translate results. <span style="color:red;">DON'T</span> use them for generating selectors!</li>
						</ul>
						<img style="border:0px solid #000; margin-left:-20%;" width="150" height="100" src="../images/10/10s4.png">
					</section>	
					<section>		
						<img style="border:0px solid #000; margin-left:-20%; margin-top:-90%;" width="250" height="100" src="../images/10/10s5.png">
						<ul>
							<a href="https://newcircle.com/bookshelf/selenium_tutorial/locators">Locating</a> Web Elements via <br>
							<li>Identifier</li>
							<li>Id</li>
							<li>Name</li>
							<li>Link</li>
							<li>DOM</li>
							<li>XPath</li>
							<li>CSS</li>
							<li>UI-element</li>
						</ul>
						<p>	<b><i>NOTE: </i></b> Each one has PROS and CONS! </p>
					</section>
					<section>	
						<h4 style="font-style:italic; text-decoration: underline;">Target</h4>
						<ul>
							<li>
								For many Selenium commands, a target is required 
								<ul>
									<li>Identifies an element in the content of the web application </li>
									<li>Consists of the location strategy followed by the location in the format: locatorType=location</li>
								</ul>
							</li>
							<li>The locator type can be omitted in many cases </li>												
						</ul>
					</section>
					<section>	
						<h4 style="font-style:italic; text-decoration: underline;">Target (2)</h4>					
						<ul>
							<li>
								Locating by identifier is the most common method of locating elements
								<ul>
									<li>A catch-all default when no recognized locator type is used </li>
									<li>The first element with the id attribute value matching the location is used </li>
									<li>If no element has a matching id attribute, then the first element with a name attribute matching the location is used</li>
									<li>Preferably follow the order id > name > Identifier > css > xpath</li>
								</ul>
							</li>		
						</ul>
					</section>
					<section>
						<h4 style="font-style:italic; text-decoration: underline;">Locating Web Elements by ID</h4>	
						<ul>
							<li>Locating by Id is more explicit, but also more limited than the identifier locator type</li>
							<li>We must use it when there is available element id attribute</li>
						</ul>
						<img style="border:0px solid #000; margin-left:-20%;" width="400" height="150" src="../images/10/10s6.jpg">	
					</section>
					<section>
						<h4 style="font-style:italic; text-decoration: underline;">Locating Web Elements by Name</h4>
						<ul>
							The name locator type will locate the first element with a matching name attribute
							<li>If multiple elements have the same value for a name attribute, then you can use filters to further refine your location strategy </li>
							<li>The default filter type is value (matching the value attribute)</li>
						</ul>
						<img style="border:0px solid #000; margin-left:-20%;" width="400" height="150" src="../images/10/10s7.jpg">	
					</section>
					<section>
						<h4 style="font-style:italic; text-decoration: underline;">Locating Web Elements by XPath</h4>
						<ul>
							XPath is the language used for locating nodes in an XML (XHTML) document
							<li>Useful when we don’t have a suitable id or name attribute for the element </li>
							<li>XPath locators can also be used to specify elements via attributes other than id and name </li>
							<li>Only xpath locators start with “<span style="color:red;">//</span>” or “<span style="color:red;">./</span>”</li>
						</ul>
						<img style="border:0px solid #000; margin-left:-20%;" width="400" height="150" src="../images/10/10s8.gif">	
					</section>
					<section>
						<h2>Absolute or Relative Xpath Location</h2>
						<ul>
							Types of XPath location:
							<li>
								Absolute
								<ul>
									<li>Contains the location of all elements from the root (html) (e.g., xpath=/html/body/form) </li>
									<li>Very likely to fail after adjustments</li>
								</ul>
							</li>
							<li>
								Relative
								<ul>
									<li>Relative to an element that does have an id or name attribute</li>
									<li>e.g., //input[@name=’username’] - First input element with attribute named ‘name’ and the value ‘username’</li>
								</ul>
							</li>
						</ul>
					</section>
					<section>
						<h2>Locating Hyperlinks by Link Text</h2>
						<ul>
							<li>Hyperlink can be located in the web page by using the text of the link.</li>
							<li>If two links with the same text are present, then the first match will be used.</li>
							<li>e.g. link=Yes / link=No</li>
						</ul>
					</section>
					<section>
						<h2>Locating Web Elements by DOM</h2>
						<ul>
							<li>The Document Object Model (DOM) represents an HTML document and can be accessed via JavaScript.</li>
							<li>Takes JavaScript that evaluates to an element on the page</li>
							<li>Can be simply the element’s location using the hierarchical dotted notation</li>
							<li>Since only dom locators start with “document”, the dom= label can be omitted </li>
							<li>e.g. dom=document.getElementById(’loginForm’)</li>							
						</ul>
					</section>
					<section>
						<h2>Locating Web Elements by CSS</h2>
						<ul>
							<li>CSS (Cascading Style Sheets) is a <a href="https://saucelabs.com/resources/selenium/css-selectors">language</a> for describing the rendering of HTML and XML documents</li>
							<li>CSS uses Selectors for binding style properties to elements in the document </li>
							<li>These Selectors can be used by Selenium as another locating strategy</li>
							<li>Faster than Xpath</li>							
							<li>Can find the most complicated objects in an intrinsic HTML document</li>
							<li>e.g. css=div > a</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Selenium flavours</h2>
						<img width="400" height="500" src="../images/10/10sel.jpg">
					</section>
					<section>
						<h2>Easy !?</h2>
						<img width="400" height="500" src="../images/10/10s11.jpg">
					</section>
					<section>
						<h2>Selenium <a href="http://www.software-testing-tutorials-automation.com/2011/10/how-to-download-and-install-selenium.html">IDE</a></h2>
						<img width="400" height="500" src="../images/10/10s9.jpg">
					</section>
					<section>
						<h2>Selenium <a href="https://crossbrowsertesting.com/faq/how-do-i-record-and-run-selenium-tests-selenium-builder">Builder</a></h2>
						<img width="400" height="500" src="../images/10/10s10.jpg">
					</section>
					<section>
						<h2>Selenium <a href="http://www.software-testing-tutorials-automation.com/2013/08/how-to-download-and-install-selenium.html">WebDriver</a></h2>
						<img width="400" height="500" src="../images/10/10s12.jpg">
					</section>
					<section>
						<h2>Why use the Se WebDriver?</h2>
						<ul>
							<li>A tool for automating web application testing</li>
							<li>Developed to better support dynamic web pages where elements of a page may change without the page itself being reloaded(AJAX)</li>
							<li>Makes direct calls to the browser using each browser’s native support for automation the page itself being reloaded.</li>
						</ul>
					</section>
					<section>
						<h2>WebDriver Wire Protocol</h2>
						<ul>							
							<li>All implementations of WebDriver that communicate with the browser, or a Remote WebDriver server shall use a common wire protocol </li>
							<li>The wire protocol defines a RESTful web service using JSON over HTTP  implemented in request/response pairs of "commands" and "responses“</li>
						</ul>
					</section>
					<section>						
						<img style="border:0px solid #000; margin-left:-20%;" width="900" height="650" src="../images/10/10s13.png">
					</section>
					<section>
						<h2>Creating Driver</h2>
						<ul>							
							<li>Create an instance of a driver</li>
							<li>Additional steps are required to use Chrome Driver, Opera Driver, Android Driver and iPhone Driver</li>
						</ul>
						<pre><code>
// Create a new instance of the Firefox driver
// Notice that the remainder of the code relies on the interface, 
// not the implementation.
WebDriver driver = new FirefoxDriver();
						</code></pre>
					</section>
					<section>						
						<img style="border:0px solid #000; margin-left:-20%;" width="900" height="650" src="../images/10/10s15.png">
					</section>
					<section>
						<h2>Element Locators</h2>
						<ul>							
							<li>
								By ID <br>
								<pre><code>
WebElement element = driver.findElement(By.id("submit"));
// Action can be performed on Input Button element
element.submit();
								</code></pre>
							</li>							
							<li>
								By Class <br>
								<pre><code>
WebElement parentElement = driver.findElement(By.className("button"));
								</code></pre>
							</li>
							<li>
								By Tag Name <br>
								<pre><code>
WebElement element = driver.findElement(By.tagName("button"));
								</code></pre>
							</li>
						</ul>
					</section>
					<section>
						<h2>Element Locators (2)</h2>
						<ul>
							<li>
								By Name<br>
								<pre><code>
WebElement element = driver.findElement(By.name("firstname"));
// Action can be performed on Input Text element
element.sendKeys("ToolsQA");
								</code></pre>
							</li>							
							<li>
								By Link text <br>
								<pre><code>
WebElement element = driver.findElement(By.linkText("Partial Link Test"));
element.clear();

//Or can be identified as 
WebElement element = driver.findElement(By.partialLinkText("Partial");
element.clear();
								</code></pre>
							</li>							
						</ul>
					</section>
					<section>
						<h2>Element Locators (3)</h2>
						<ul>							
							<li>
								By XPath <br>
								<pre><code>
WebElement element = driver.findElement(By.xpath("//div[@id='bottom']/div[1]/a[@class='ext-link']"));
								</code></pre>
							</li>
							<li>
								By CSS <br>
								<pre><code>
WebElement ele1 = driver.findElement(By.cssSelector(".primary-btn"));
								</code></pre>
							</li>
							<li>
								Chain of locators (first one serve as container) <br>
								<pre><code>
WebElement anElement = driver.findElement(By.id(“parent-id”))
	.findElementBy(By.class(“unique-enough-attribute”));
								</code></pre>

							</li>
						</ul>
					</section>					
					<section>
						<h2>XPath Syntax</h2>
						<ul>
							What is XPath?
							<li>A (programming language) syntax for defining parts of an XML documen</li>
							<li>Uses path expressions to navigate in XML documents </li>
							<li>Contains a library of standard functions </li>
							<li>Is a major element in <a href="http://www.w3schools.com/xsl/">XSLT</a></li>
							<li>Is a W3C recommendation</li>
						</ul>						
					</section>
					<section>		
						<h2>Summary</h2>
						<img style="border:0px solid #000; margin-left:-20%;" width="900" height="600" src="../images/10/10s16.png">
					</section>
				</section>
				
				<section>
					<section>
						<h2>Call Wrappers</h2>
						<img width="300" height="400" data-src="../images/10/10wrap.jpg">
					</section>
					<section>
						<h2>Common Actions</h2>
						<pre>Type Text into a field using Selenium WebDriver sendKeys() function<code>
// Find the text input element by its name 
WebElement element = driver.findElement(By.name("search")); 

// Enter something to search for
element.sendKeys(“selenium"); 
						</code></pre>
					</section>
					<section>
						<h2>Common Actions (2)</h2>
						<pre>Select DropDown value<code>
SelectElement selectElement = 
	new SelectElement(driver.findElement(By.XPath("//select")));
selectElement.selectByText(" Mercedes ");
						</code></pre>
					</section>
					<section>
						<h2>Common Actions (3)</h2>
						<pre>Verify WebElement Text <code>
String text = 
	driver.findElement(By.xpath("//div[@id='TITLE']/div")).getText();
						</code></pre>
					</section>
					<section>
						<h2>Asserts</h2>						
						<pre>No built-in method to assert text on a page<code>
WebDriver driver = new ChromeDriver("C://libs//chromedriver.exe");
driver.get(http://www.google.com);
assertEquals("Google", driver.title); 
						</code></pre>
					</section>
					<section>
						<h2><a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> your code</h2>						
						<pre>Clicks and Waits for page to load<code>
public void clickAndWait(String elementLocator, String waitPeriod) {
        selenium.click(elementLocator);
        selenium.waitForPageToLoad(waitPeriod);
}
						</code></pre>
					</section>
					<section>
						<h2>‘<a href="http://www.seleniumhq.org/docs/06_test_design_considerations.jsp#wrapping-selenium-calls">Safe</a> Operations’ for Element Presence</h2>						
						<pre>Clicks on an element only if it is available on a page.<code>
public void safeClick(String elementLocator) {
        if(selenium.isElementPresent(elementLocator)) {
                selenium.click(elementLocator);
        } else {
                // Using the TestNG API for logging
                Reporter.log("Element: " + elementLocator + ", is not available on a page - "
                                +selenium.getLocation());
        }
}
						</code></pre>
					</section>
					
				</section>
				
				<section>
					<section>
						<h2>Selenium Grid</h2>
						<img width="300" height="400" data-src="../images/10/10grid.png">
					</section>
					<section>
						<p>Allows us to run our tests on different machines against different browsers in parallel</p>
						<img width="500" height="400" data-src="../images/10/10s17.png">
					</section>
					<section>
						<ul> PROS
							<li>Tool for distributing tests across multiple physical or virtual machines simultaneously.</li>
							<li>Dramatically accelerates the testing process and returns a quick feedback.</li>
							<li>The code doesn’t need to be present on the machines which run the tests.</li>
						</ul>						
					</section>
					<section>
						<ul> Hub and Node
							<li><b>Hub</b> - central point where the tests would be triggered. A Selenium Grid has only one Hub and it is launched on a single machine once.</li>
							<li><b>Node</b> - Nodes are the Selenium instances that are attached to the Hub which execute the tests. There can be one or more nodes in a grid which can be of any OS and can contain any of the Selenium supported browsers.	</li>
						</ul>								
					</section>
					<section>
						<h2>Setup Selenium-Grid </h2>
						<ul> 
							<li>Installation is simple. Download the Selenium-Server jar file from the SeleniumHq website’s download page. You want the link under the section “Selenium-Server (formerly Selenium-RC)”.</li>
							<li>Install it in a folder of your choice. You’ll need to be sure the java executable is on your execution path so you can run it from the command-line. If it does not run correcly, verify your system’s path variable includes the path to the java.exe.</li>
						</ul>					
					</section>
					<section>
						<h2> Setup Selenium-Grid (2) </h2>
						<pre>Step 1: Start the hub<code>
java -jar selenium-server-standalone-2.14.0.jar -role hub
						</code></pre>	
<pre>Step 2: Start the nodes <code>
java -jar selenium-server-standalone-2.14.0.jar -role node -hub http://localhost:4444/grid/register 
						</code></pre>
<pre>Using grid to run tests<code>
DesiredCapabilities capability = 
DesiredCapabilities.Firefox(); 
Driver = new RemoteWebDriver(new Uri("http://localhost:4444/wd/hub"), capability); 
						</code></pre>						
					</section>
					<section>
						<h2>Selenium-Grid-<a href="https://github.com/groupon/Selenium-Grid-Extras">Extras</a></h2>
						<img width="900" height="500" data-src="../images/10/10extras.png">
					</section>
				</section>
					
				<section>
					<img width="900" height="500" data-src="../images/1qas.jpg">
					evgenikostadinov@gmail.com
				</section>		
				
				<section>
					<section>
						<h2>EXERCISE</h2>
						<img style="border:0px solid #000; margin-left:-20%;" width="900" height="550" src="../images/10/10e1.png">				
					</section>		
				</section>				
			</div>

		</div>

		<script src="../lib/js/head.min.js"></script>
		<script src="../js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: '../lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../plugin/zoom-js/zoom.js', async: true },
					{ src: '../plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
